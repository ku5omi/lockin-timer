<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>study with me</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gluten:wght@100..900&display=swap" rel="stylesheet">
    <style>
    body {
        font-family: 'Gluten', sans-serif;
        background-color: #fff2c8;
        color: #c3c15d;
        text-align: center;
        padding: 50px;
        margin: 0;
    }
    
    h1 {
        font-size: 32px;
        margin-bottom: 40px;
        color: #c3c15d;
    }
    
    .container {
        max-width: 600px;
        margin: 0 auto;
    }
    
    #timerDisplay {
        font-size: 100px;
        font-weight: auto;
        margin: 60px auto;
        color: #c3c15d;
        width: 300px;
        height: 300px;
        border: 10px solid #c3c15d;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
    }
    
    input {
        width: 60%;
        padding: 12px 20px;
        font-size: 16px;
        margin: 20px 10px;
        border: 2px solid #8f785f;
        background-color: #fff2c8;
        color: #8f785f;
        border-radius: 25px;
        outline: none;
        font-family: 'Gluten', sans-serif;
    }

    input:focus {
    border: 2px solid #8f785f;
    }
    
    input::placeholder {
        color: #8f785f;
        opacity: 0.7;
        font-family: 'Gluten', sans-serif;
    }
    
    button {
        padding: 12px 30px;
        font-size: 16px;
        margin: 10px;
        background-color: #8f785f;
        color: #fff2c8;
        border: 2px solid #8f785f;
        border-radius: 25px;
        cursor: pointer;
        font-family: 'Gluten', sans-serif;
    }
    
    button:hover {
        background-color: transparent;
        color: #8f785f;
    }

    button:focus {
    border: 2px solid #8f785f;
    }
    
    #stats {
        margin-top: 30px;
        font-size: 18px;
        color: #c3c15d;
    }
    
    #videoContainer {
        margin-top: 40px;
    }
</style>
</head>
<body>
    <h1>study with me</h1>
    
    <div class="container">
    
    <div style="display: flex; justify-content: center; align-items: center; gap: 10px;">
        <input type="text" id="youtubeLink" placeholder="Paste link here or play your own music">
        <button id="toggleBtn">Start</button>
    </div>
    
    <div id="timerDisplay">00:00</div>
    
    <div id="videoContainer"></div>
    
    <div id="stats"></div>
    </div>
    <script>
        // Variables to track our timer
        let timerInterval;
        let seconds = 0;
        let isRunning = false;
        

        // Get references to HTML elements
        const toggleBtn = document.getElementById('toggleBtn');
        const timerDisplay = document.getElementById('timerDisplay');
        const youtubeLink = document.getElementById('youtubeLink');
        const videoContainer = document.getElementById('videoContainer');
        const stats = document.getElementById('stats');
        
        // Function to format seconds into MM:SS
        function formatTime(totalSeconds) {
            const minutes = Math.floor(totalSeconds / 60);
            const secs = totalSeconds % 60;
            return `${String(minutes).padStart(2, '0')}:${String(secs).padStart(2, '0')}`;
        }
        
        // Function to start the timer
        function startTimer() {
            if (isRunning) return; // Don't start if already running
            
            isRunning = true;
            seconds =0;
            stats.textContent = ''; // Clear previous stats
            
            // Update timer every second
            timerInterval = setInterval(() => {
                seconds++;
                timerDisplay.textContent = formatTime(seconds);
            }, 1000);
            
            // Load YouTube video if link provided
            const link = youtubeLink.value;
            if (link) {
                loadYouTubeVideo(link);
            }
        }
        
        // Function to stop the timer
        function stopTimer() {
            if (!isRunning) return;
            
            isRunning = false;
            clearInterval(timerInterval);
            
            // Show stats
            const minutes = Math.floor(seconds / 60);
            stats.textContent = `Session Complete! You locked in for ${minutes} minutes and ${seconds % 60} seconds.`;
        }
        
        // Function to load YouTube video
        function loadYouTubeVideo(url) {
            // Extract video ID from YouTube URL
            const videoId = url.split('v=')[1]?.split('&')[0];
            
            if (videoId) {
                videoContainer.innerHTML = `
                    <iframe width="560" height="315" 
                        src="https://www.youtube.com/embed/${videoId}?autoplay=1" 
                        frameborder="0" allow="autoplay" allowfullscreen>
                    </iframe>
                `;
            }
        }
        
        // Attach event listener to toggle button
        toggleBtn.addEventListener('click', function() {
        if (isRunning) {
            stopTimer();
            toggleBtn.textContent = 'Start';
        } else {
            startTimer();
            toggleBtn.textContent = 'End';
        }
        });
    </script>
</body>
</body>
</html>